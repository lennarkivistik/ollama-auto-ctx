var qa=Object.defineProperty;var an=e=>{throw TypeError(e)};var ya=(e,t,r)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var it=(e,t,r)=>ya(e,typeof t!="symbol"?t+"":t,r),As=(e,t,r)=>t.has(e)||an("Cannot "+r);var d=(e,t,r)=>(As(e,t,"read from private field"),r?r.call(e):t.get(e)),N=(e,t,r)=>t.has(e)?an("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),O=(e,t,r,s)=>(As(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(As(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();var qn,yn;const ln=(yn=(qn=globalThis.process)==null?void 0:qn.env)==null?void 0:yn.NODE_ENV,k=ln&&!ln.toLowerCase().startsWith("prod");var xn=Array.isArray,ka=Array.prototype.indexOf,ds=Array.from,vr=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,xa=Object.getOwnPropertyDescriptors,Ea=Object.prototype,ja=Array.prototype,En=Object.getPrototypeOf,on=Object.isExtensible;const Sa=()=>{};function Ta(e){for(var t=0;t<e.length;t++)e[t]()}function jn(){var e,t,r=new Promise((s,a)=>{e=s,t=a});return{promise:r,resolve:e,reject:t}}const he=2,ss=4,_s=8,Sn=1<<24,Rt=16,It=32,dr=64,Ys=128,Qe=512,ge=1024,Te=2048,Nt=4096,ze=8192,Pt=16384,Ks=32768,ur=65536,ns=1<<17,Tn=1<<18,Mr=1<<19,Ma=1<<20,$t=1<<25,Kt=32768,Is=1<<21,hs=1<<22,Gt=1<<23,ir=Symbol("$state"),$a=Symbol("legacy props"),Aa=Symbol(""),Mn=Symbol("proxy path"),hr=new class extends Error{constructor(){super(...arguments);it(this,"name","StaleReactionError");it(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Pa(e){if(k){const t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Oa(){if(k){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ra(){if(k){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ia(e){if(k){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Na(){if(k){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ca(e){if(k){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function Fa(){if(k){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Da(){if(k){const e=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/invalid_snippet")}function La(e){if(k){const t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Ba(e){if(k){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Ua(){if(k){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function za(){if(k){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ha(){if(k){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ga(){if(k){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Va=1,Ya=2,$n=4,Ka=8,Wa=16,Xa=1,Za=4,Ja=8,Qa=16,ei=1,ti=2,ue=Symbol(),ri=Symbol("filename"),si="http://www.w3.org/1999/xhtml";var An="font-weight: bold",Pn="font-weight: normal";function Ps(e){k?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,An,Pn):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function ni(){k?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",An,Pn):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function On(e){return e===this.v}function ai(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rn(e){return!ai(e,this.v)}let ii=!1;function _t(e,t){return e.label=t,In(e.v,t),e}function In(e,t){var r;return(r=e==null?void 0:e[Mn])==null||r.call(e,t),e}function li(e){const t=new Error,r=oi();return r.length===0?null:(r.unshift(`
`),vr(t,"stack",{value:r.join(`
`)}),vr(t,"name",{value:e}),t)}function oi(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const r=t.split(`
`),s=[];for(let a=0;a<r.length;a++){const n=r[a],l=n.replaceAll("\\","/");if(n.trim()!=="Error"){if(n.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||s.push(n)}}return s}let _e=null;function xr(e){_e=e}let Or=null;function as(e){Or=e}let Lr=null;function cn(e){Lr=e}function Ct(e,t=!1,r){_e={p:_e,i:!1,c:null,e:null,s:e,x:null,l:null},k&&(_e.function=r,Lr=r)}function Ft(e){var t=_e,r=t.e;if(r!==null){t.e=null;for(var s of r)ea(s)}return t.i=!0,_e=t.p,k&&(Lr=(_e==null?void 0:_e.function)??null),{}}function Nn(){return!0}let pr=[];function ci(){var e=pr;pr=[],Ta(e)}function Br(e){if(pr.length===0){var t=pr;queueMicrotask(()=>{t===pr&&ci()})}pr.push(e)}const Ns=new WeakMap;function Cn(e){var t=C;if(t===null)return A.f|=Gt,e;if(k&&e instanceof Error&&!Ns.has(e)&&Ns.set(e,vi(e,t)),(t.f&Ks)===0){if((t.f&Ys)===0)throw k&&!t.parent&&e instanceof Error&&Fn(e),e;t.b.error(e)}else Er(e,t)}function Er(e,t){for(;t!==null;){if((t.f&Ys)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw k&&e instanceof Error&&Fn(e),e}function vi(e,t){var l,v,o;const r=ar(e,"message");if(!(r&&!r.configurable)){for(var s=Qs?"  ":"	",a=`
${s}in ${((l=t.fn)==null?void 0:l.name)||"<unknown>"}`,n=t.ctx;n!==null;)a+=`
${s}in ${(v=n.function)==null?void 0:v[ri].split("/").pop()}`,n=n.p;return{message:e.message+`
${a}
`,stack:(o=e.stack)==null?void 0:o.split(`
`).filter(w=>!w.includes("svelte/src/internal")).join(`
`)}}}function Fn(e){const t=Ns.get(e);t&&(vr(e,"message",{value:t.message}),vr(e,"stack",{value:t.stack}))}const ui=-7169;function ne(e,t){e.f=e.f&ui|t}function Ws(e){(e.f&Qe)!==0||e.deps===null?ne(e,ge):ne(e,Nt)}function Dn(e){if(e!==null)for(const t of e)(t.f&he)===0||(t.f&Kt)===0||(t.f^=Kt,Dn(t.deps))}function Ln(e,t,r){(e.f&Te)!==0?t.add(e):(e.f&Nt)!==0&&r.add(e),Dn(e.deps),ne(e,ge)}const Xr=new Set;let L=null,fe=null,ht=[],Xs=null,Cs=!1;var wr,gr,Qt,er,Cr,br,qr,et,Fs,Ds,Bn,Un;const vs=class vs{constructor(){N(this,et);it(this,"committed",!1);it(this,"current",new Map);it(this,"previous",new Map);N(this,wr,new Set);N(this,gr,new Set);N(this,Qt,0);N(this,er,0);N(this,Cr,null);N(this,br,new Set);N(this,qr,new Set);it(this,"skipped_effects",new Set);it(this,"is_fork",!1)}is_deferred(){return this.is_fork||d(this,er)>0}process(t){var a;ht=[],this.apply();var r=[],s=[];for(const n of t)ve(this,et,Fs).call(this,n,r,s);this.is_fork||ve(this,et,Bn).call(this),this.is_deferred()?(ve(this,et,Ds).call(this,s),ve(this,et,Ds).call(this,r)):(L=null,vn(s),vn(r),(a=d(this,Cr))==null||a.resolve()),fe=null}capture(t,r){r!==ue&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&Gt)===0&&(this.current.set(t,t.v),fe==null||fe.set(t,t.v))}activate(){L=this,this.apply()}deactivate(){L===this&&(L=null,fe=null)}flush(){if(this.activate(),ht.length>0){if(fi(),L!==null&&L!==this)return}else d(this,Qt)===0&&this.process([]);this.deactivate()}discard(){for(const t of d(this,gr))t(this);d(this,gr).clear()}increment(t){O(this,Qt,d(this,Qt)+1),t&&O(this,er,d(this,er)+1)}decrement(t){O(this,Qt,d(this,Qt)-1),t&&O(this,er,d(this,er)-1),this.revive()}revive(){for(const t of d(this,br))d(this,qr).delete(t),ne(t,Te),Ot(t);for(const t of d(this,qr))ne(t,Nt),Ot(t);this.flush()}oncommit(t){d(this,wr).add(t)}ondiscard(t){d(this,gr).add(t)}settled(){return(d(this,Cr)??O(this,Cr,jn())).promise}static ensure(){if(L===null){const t=L=new vs;Xr.add(L),vs.enqueue(()=>{L===t&&t.flush()})}return L}static enqueue(t){Br(t)}apply(){}};wr=new WeakMap,gr=new WeakMap,Qt=new WeakMap,er=new WeakMap,Cr=new WeakMap,br=new WeakMap,qr=new WeakMap,et=new WeakSet,Fs=function(t,r,s){t.f^=ge;for(var a=t.first,n=null;a!==null;){var l=a.f,v=(l&(It|dr))!==0,o=v&&(l&ge)!==0,w=o||(l&ze)!==0||this.skipped_effects.has(a);if(!w&&a.fn!==null){v?a.f^=ge:n!==null&&(l&(ss|_s|Sn))!==0?n.b.defer_effect(a):(l&ss)!==0?r.push(a):zr(a)&&((l&Rt)!==0&&d(this,br).add(a),Ir(a));var h=a.first;if(h!==null){a=h;continue}}var _=a.parent;for(a=a.next;a===null&&_!==null;)_===n&&(n=null),a=_.next,_=_.parent}},Ds=function(t){for(var r=0;r<t.length;r+=1)Ln(t[r],d(this,br),d(this,qr))},Bn=function(){if(d(this,er)===0){for(const t of d(this,wr))t();d(this,wr).clear()}d(this,Qt)===0&&ve(this,et,Un).call(this)},Un=function(){var a;if(Xr.size>1){this.previous.clear();var t=fe,r=!0;for(const n of Xr){if(n===this){r=!1;continue}const l=[];for(const[o,w]of this.current){if(n.current.has(o))if(r&&w!==n.current.get(o))n.current.set(o,w);else continue;l.push(o)}if(l.length===0)continue;const v=[...n.current.keys()].filter(o=>!this.current.has(o));if(v.length>0){var s=ht;ht=[];const o=new Set,w=new Map;for(const h of l)zn(h,v,o,w);if(ht.length>0){L=n,n.apply();for(const h of ht)ve(a=n,et,Fs).call(a,h,[],[]);n.deactivate()}ht=s}}L=null,fe=t}this.committed=!0,Xr.delete(this)};let At=vs;function fi(){var e=or;Cs=!0;var t=k?new Set:null;try{var r=0;for(ls(!0);ht.length>0;){var s=At.ensure();if(r++>1e3){if(k){var a=new Map;for(const l of s.current.keys())for(const[v,o]of l.updated??[]){var n=a.get(v);n||(n={error:o.error,count:0},a.set(v,n)),n.count+=o.count}for(const l of a.values())l.error&&console.error(l.error)}di()}if(s.process(ht),Vt.clear(),k)for(const l of s.current.keys())t.add(l)}}finally{if(Cs=!1,ls(e),Xs=null,k)for(const l of t)l.updated=null}}function di(){try{Fa()}catch(e){k&&vr(e,"stack",{value:""}),Er(e,Xs)}}let lt=null;function vn(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(Pt|ze))===0&&zr(s)&&(lt=new Set,Ir(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?na(s):s.fn=null),(lt==null?void 0:lt.size)>0)){Vt.clear();for(const a of lt){if((a.f&(Pt|ze))!==0)continue;const n=[a];let l=a.parent;for(;l!==null;)lt.has(l)&&(lt.delete(l),n.push(l)),l=l.parent;for(let v=n.length-1;v>=0;v--){const o=n[v];(o.f&(Pt|ze))===0&&Ir(o)}}lt.clear()}}lt=null}}function zn(e,t,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const a of e.reactions){const n=a.f;(n&he)!==0?zn(a,t,r,s):(n&(hs|Rt))!==0&&(n&Te)===0&&Hn(a,t,s)&&(ne(a,Te),Ot(a))}}function Hn(e,t,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&he)!==0&&Hn(a,t,r))return r.set(a,!0),!0}return r.set(e,!1),!1}function Ot(e){for(var t=Xs=e;t.parent!==null;){t=t.parent;var r=t.f;if(Cs&&t===C&&(r&Rt)!==0&&(r&Tn)===0)return;if((r&(dr|It))!==0){if((r&ge)===0)return;t.f^=ge}}ht.push(t)}function _i(e){let t=0,r=fr(0),s;return k&&_t(r,"createSubscriber version"),()=>{en()&&(i(r),ta(()=>(t===0&&(s=ws(()=>e(()=>Pr(r)))),t+=1,()=>{Br(()=>{t-=1,t===0&&(s==null||s(),s=void 0,Pr(r))})})))}}var hi=ur|Mr|Ys;function pi(e,t,r){new mi(e,t,r)}var We,Vs,pt,tr,mt,Xe,Pe,wt,Tt,Ut,rr,zt,sr,yr,kr,Mt,us,se,wi,gi,Ls,ts,rs,Bs;class mi{constructor(t,r,s){N(this,se);it(this,"parent");it(this,"is_pending",!1);N(this,We);N(this,Vs,null);N(this,pt);N(this,tr);N(this,mt);N(this,Xe,null);N(this,Pe,null);N(this,wt,null);N(this,Tt,null);N(this,Ut,null);N(this,rr,0);N(this,zt,0);N(this,sr,!1);N(this,yr,new Set);N(this,kr,new Set);N(this,Mt,null);N(this,us,_i(()=>(O(this,Mt,fr(d(this,rr))),k&&_t(d(this,Mt),"$effect.pending()"),()=>{O(this,Mt,null)})));O(this,We,t),O(this,pt,r),O(this,tr,s),this.parent=C.b,this.is_pending=!!d(this,pt).pending,O(this,mt,ms(()=>{C.b=this;{var a=ve(this,se,Ls).call(this);try{O(this,Xe,Ze(()=>s(a)))}catch(n){this.error(n)}d(this,zt)>0?ve(this,se,rs).call(this):this.is_pending=!1}return()=>{var n;(n=d(this,Ut))==null||n.remove()}},hi))}defer_effect(t){Ln(t,d(this,yr),d(this,kr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!d(this,pt).pending}update_pending_count(t){ve(this,se,Bs).call(this,t),O(this,rr,d(this,rr)+t),d(this,Mt)&&Sr(d(this,Mt),d(this,rr))}get_effect_pending(){return d(this,us).call(this),i(d(this,Mt))}error(t){var r=d(this,pt).onerror;let s=d(this,pt).failed;if(d(this,sr)||!r&&!s)throw t;d(this,Xe)&&(Ie(d(this,Xe)),O(this,Xe,null)),d(this,Pe)&&(Ie(d(this,Pe)),O(this,Pe,null)),d(this,wt)&&(Ie(d(this,wt)),O(this,wt,null));var a=!1,n=!1;const l=()=>{if(a){ni();return}a=!0,n&&Ga(),At.ensure(),O(this,rr,0),d(this,wt)!==null&&lr(d(this,wt),()=>{O(this,wt,null)}),this.is_pending=this.has_pending_snippet(),O(this,Xe,ve(this,se,ts).call(this,()=>(O(this,sr,!1),Ze(()=>d(this,tr).call(this,d(this,We)))))),d(this,zt)>0?ve(this,se,rs).call(this):this.is_pending=!1};var v=A;try{Re(null),n=!0,r==null||r(t,l),n=!1}catch(o){Er(o,d(this,mt)&&d(this,mt).parent)}finally{Re(v)}s&&Br(()=>{O(this,wt,ve(this,se,ts).call(this,()=>{At.ensure(),O(this,sr,!0);try{return Ze(()=>{s(d(this,We),()=>t,()=>l)})}catch(o){return Er(o,d(this,mt).parent),null}finally{O(this,sr,!1)}}))})}}We=new WeakMap,Vs=new WeakMap,pt=new WeakMap,tr=new WeakMap,mt=new WeakMap,Xe=new WeakMap,Pe=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Ut=new WeakMap,rr=new WeakMap,zt=new WeakMap,sr=new WeakMap,yr=new WeakMap,kr=new WeakMap,Mt=new WeakMap,us=new WeakMap,se=new WeakSet,wi=function(){try{O(this,Xe,Ze(()=>d(this,tr).call(this,d(this,We))))}catch(t){this.error(t)}},gi=function(){const t=d(this,pt).pending;t&&(O(this,Pe,Ze(()=>t(d(this,We)))),At.enqueue(()=>{var r=ve(this,se,Ls).call(this);O(this,Xe,ve(this,se,ts).call(this,()=>(At.ensure(),Ze(()=>d(this,tr).call(this,r))))),d(this,zt)>0?ve(this,se,rs).call(this):(lr(d(this,Pe),()=>{O(this,Pe,null)}),this.is_pending=!1)}))},Ls=function(){var t=d(this,We);return this.is_pending&&(O(this,Ut,Yt()),d(this,We).before(d(this,Ut)),t=d(this,Ut)),t},ts=function(t){var r=C,s=A,a=_e;ut(d(this,mt)),Re(d(this,mt)),xr(d(this,mt).ctx);try{return t()}catch(n){return Cn(n),null}finally{ut(r),Re(s),xr(a)}},rs=function(){const t=d(this,pt).pending;d(this,Xe)!==null&&(O(this,Tt,document.createDocumentFragment()),d(this,Tt).append(d(this,Ut)),la(d(this,Xe),d(this,Tt))),d(this,Pe)===null&&O(this,Pe,Ze(()=>t(d(this,We))))},Bs=function(t){var r;if(!this.has_pending_snippet()){this.parent&&ve(r=this.parent,se,Bs).call(r,t);return}if(O(this,zt,d(this,zt)+t),d(this,zt)===0){this.is_pending=!1;for(const s of d(this,yr))ne(s,Te),Ot(s);for(const s of d(this,kr))ne(s,Nt),Ot(s);d(this,yr).clear(),d(this,kr).clear(),d(this,Pe)&&lr(d(this,Pe),()=>{O(this,Pe,null)}),d(this,Tt)&&(d(this,We).before(d(this,Tt)),O(this,Tt,null))}};function bi(e,t,r,s){const a=ps;if(r.length===0&&e.length===0){s(t.map(a));return}var n=L,l=C,v=qi();function o(){Promise.all(r.map(w=>ki(w))).then(w=>{v();try{s([...t.map(a),...w])}catch(h){(l.f&Pt)===0&&Er(h,l)}n==null||n.deactivate(),is()}).catch(w=>{Er(w,l)})}e.length>0?Promise.all(e).then(()=>{v();try{return o()}finally{n==null||n.deactivate(),is()}}):o()}function qi(){var e=C,t=A,r=_e,s=L;if(k)var a=Or;return function(l=!0){ut(e),Re(t),xr(r),l&&(s==null||s.activate()),k&&as(a)}}function is(){ut(null),Re(null),xr(null),k&&as(null)}const yi=new Set;function ps(e){var t=he|Te,r=A!==null&&(A.f&he)!==0?A:null;return C!==null&&(C.f|=Mr),{ctx:_e,deps:null,effects:null,equals:On,f:t,fn:e,reactions:null,rv:0,v:ue,wv:0,parent:r??C,ac:null}}function ki(e,t,r){let s=C;s===null&&Oa();var a=s.b,n=void 0,l=fr(ue);k&&(l.label=t);var v=!A,o=new Map;return Fi(()=>{var m;var w=jn();n=w.promise;try{Promise.resolve(e()).then(w.resolve,w.reject).then(()=>{h===L&&h.committed&&h.deactivate(),is()})}catch(b){w.reject(b),is()}var h=L;if(v){var _=a.is_rendered();a.update_pending_count(1),h.increment(_),(m=o.get(h))==null||m.reject(hr),o.delete(h),o.set(h,w)}const f=(b,y=void 0)=>{if(h.activate(),y)y!==hr&&(l.f|=Gt,Sr(l,y));else{(l.f&Gt)!==0&&(l.f^=Gt),Sr(l,b);for(const[p,g]of o){if(o.delete(p),p===h)break;g.reject(hr)}}v&&(a.update_pending_count(-1),h.decrement(_))};w.promise.then(f,b=>f(null,b||"unknown"))}),Ii(()=>{for(const w of o.values())w.reject(hr)}),k&&(l.f|=hs),new Promise(w=>{function h(_){function f(){_===n?w(l):h(n)}_.then(f,f)}h(n)})}function x(e){const t=ps(e);return oa(t),t}function Gn(e){const t=ps(e);return t.equals=Rn,t}function Us(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Ie(t[r])}}let Os=[];function xi(e){for(var t=e.parent;t!==null;){if((t.f&he)===0)return(t.f&Pt)===0?t:null;t=t.parent}return null}function Zs(e){var t,r=C;if(ut(xi(e)),k){let s=jr;un(new Set);try{Os.includes(e)&&Ra(),Os.push(e),e.f&=~Kt,Us(e),t=zs(e)}finally{ut(r),un(s),Os.pop()}}else try{e.f&=~Kt,Us(e),t=zs(e)}finally{ut(r)}return t}function Vn(e){var t=Zs(e);if(!e.equals(t)&&(e.wv=va(),(!(L!=null&&L.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ne(e,ge);return}Wt||(fe!==null?(en()||L!=null&&L.is_fork)&&fe.set(e,t):Ws(e))}let jr=new Set;const Vt=new Map;function un(e){jr=e}let Js=!1;function Ei(){Js=!0}function fr(e,t){var r={f:0,v:e,reactions:null,equals:On,rv:0,wv:0};return r}function W(e,t){const r=fr(e);return oa(r),r}function ji(e,t=!1,r=!0){const s=fr(e);return t||(s.equals=Rn),s}function F(e,t,r=!1){A!==null&&(!vt||(A.f&ns)!==0)&&Nn()&&(A.f&(he|Rt|hs|ns))!==0&&!(Se!=null&&Se.includes(e))&&Ha();let s=r?bt(t):t;return k&&In(s,e.label),Sr(e,s)}function Sr(e,t){var a;if(!e.equals(t)){var r=e.v;Wt?Vt.set(e,t):Vt.set(e,r),e.v=t;var s=At.ensure();if(s.capture(e,r),k){if(C!==null){e.updated??(e.updated=new Map);const n=(((a=e.updated.get(""))==null?void 0:a.count)??0)+1;if(e.updated.set("",{error:null,count:n}),n>5){const l=li("updated at");if(l!==null){let v=e.updated.get(l.stack);v||(v={error:l,count:0},e.updated.set(l.stack,v)),v.count++}}}C!==null&&(e.set_during_effect=!0)}if((e.f&he)!==0){const n=e;(e.f&Te)!==0&&Zs(n),Ws(n)}e.wv=va(),Kn(e,Te),C!==null&&(C.f&ge)!==0&&(C.f&(It|dr))===0&&(Ke===null?Bi([e]):Ke.push(e)),!s.is_fork&&jr.size>0&&!Js&&Yn()}return t}function Yn(){Js=!1;var e=or;ls(!0);const t=Array.from(jr);try{for(const r of t)(r.f&ge)!==0&&ne(r,Nt),zr(r)&&Ir(r)}finally{ls(e)}jr.clear()}function fn(e,t=1){var r=i(e),s=t===1?r++:r--;return F(e,r),s}function Pr(e){F(e,e.v+1)}function Kn(e,t){var r=e.reactions;if(r!==null)for(var s=r.length,a=0;a<s;a++){var n=r[a],l=n.f;if(k&&(l&ns)!==0){jr.add(n);continue}var v=(l&Te)===0;if(v&&ne(n,t),(l&he)!==0){var o=n;fe==null||fe.delete(o),(l&Kt)===0&&(l&Qe&&(n.f|=Kt),Kn(o,Nt))}else v&&((l&Rt)!==0&&lt!==null&&lt.add(n),Ot(n))}}const Si=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function bt(e){if(typeof e!="object"||e===null||ir in e)return e;const t=En(e);if(t!==Ea&&t!==ja)return e;var r=new Map,s=xn(e),a=W(0),n=cr,l=h=>{if(cr===n)return h();var _=A,f=cr;Re(null),hn(n);var m=h();return Re(_),hn(f),m};s&&(r.set("length",W(e.length)),k&&(e=Mi(e)));var v="";let o=!1;function w(h){if(!o){o=!0,v=h,_t(a,`${v} version`);for(const[_,f]of r)_t(f,Jt(v,_));o=!1}}return new Proxy(e,{defineProperty(h,_,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ua();var m=r.get(_);return m===void 0?m=l(()=>{var b=W(f.value);return r.set(_,b),k&&typeof _=="string"&&_t(b,Jt(v,_)),b}):F(m,f.value,!0),!0},deleteProperty(h,_){var f=r.get(_);if(f===void 0){if(_ in h){const m=l(()=>W(ue));r.set(_,m),Pr(a),k&&_t(m,Jt(v,_))}}else F(f,ue),Pr(a);return!0},get(h,_,f){var p;if(_===ir)return e;if(k&&_===Mn)return w;var m=r.get(_),b=_ in h;if(m===void 0&&(!b||(p=ar(h,_))!=null&&p.writable)&&(m=l(()=>{var g=bt(b?h[_]:ue),E=W(g);return k&&_t(E,Jt(v,_)),E}),r.set(_,m)),m!==void 0){var y=i(m);return y===ue?void 0:y}return Reflect.get(h,_,f)},getOwnPropertyDescriptor(h,_){var f=Reflect.getOwnPropertyDescriptor(h,_);if(f&&"value"in f){var m=r.get(_);m&&(f.value=i(m))}else if(f===void 0){var b=r.get(_),y=b==null?void 0:b.v;if(b!==void 0&&y!==ue)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return f},has(h,_){var y;if(_===ir)return!0;var f=r.get(_),m=f!==void 0&&f.v!==ue||Reflect.has(h,_);if(f!==void 0||C!==null&&(!m||(y=ar(h,_))!=null&&y.writable)){f===void 0&&(f=l(()=>{var p=m?bt(h[_]):ue,g=W(p);return k&&_t(g,Jt(v,_)),g}),r.set(_,f));var b=i(f);if(b===ue)return!1}return m},set(h,_,f,m){var $;var b=r.get(_),y=_ in h;if(s&&_==="length")for(var p=f;p<b.v;p+=1){var g=r.get(p+"");g!==void 0?F(g,ue):p in h&&(g=l(()=>W(ue)),r.set(p+"",g),k&&_t(g,Jt(v,p)))}if(b===void 0)(!y||($=ar(h,_))!=null&&$.writable)&&(b=l(()=>W(void 0)),k&&_t(b,Jt(v,_)),F(b,bt(f)),r.set(_,b));else{y=b.v!==ue;var E=l(()=>bt(f));F(b,E)}var j=Reflect.getOwnPropertyDescriptor(h,_);if(j!=null&&j.set&&j.set.call(m,f),!y){if(s&&typeof _=="string"){var M=r.get("length"),P=Number(_);Number.isInteger(P)&&P>=M.v&&F(M,P+1)}Pr(a)}return!0},ownKeys(h){i(a);var _=Reflect.ownKeys(h).filter(b=>{var y=r.get(b);return y===void 0||y.v!==ue});for(var[f,m]of r)m.v!==ue&&!(f in h)&&_.push(f);return _},setPrototypeOf(){za()}})}function Jt(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:Si.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Rs(e){try{if(e!==null&&typeof e=="object"&&ir in e)return e[ir]}catch{}return e}const Ti=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Mi(e){return new Proxy(e,{get(t,r,s){var a=Reflect.get(t,r,s);return Ti.has(r)?function(...n){Ei();var l=a.apply(this,n);return Yn(),l}:a}})}function $i(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:r,lastIndexOf:s,includes:a}=e;e.indexOf=function(n,l){const v=r.call(this,n,l);if(v===-1){for(let o=l??0;o<this.length;o+=1)if(Rs(this[o])===n){Ps("array.indexOf(...)");break}}return v},e.lastIndexOf=function(n,l){const v=s.call(this,n,l??this.length-1);if(v===-1){for(let o=0;o<=(l??this.length-1);o+=1)if(Rs(this[o])===n){Ps("array.lastIndexOf(...)");break}}return v},e.includes=function(n,l){const v=a.call(this,n,l);if(!v){for(let o=0;o<this.length;o+=1)if(Rs(this[o])===n){Ps("array.includes(...)");break}}return v},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=s,e.includes=a}}var dn,Qs,Wn,Xn;function Ai(){if(dn===void 0){dn=window,Qs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Wn=ar(t,"firstChild").get,Xn=ar(t,"nextSibling").get,on(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),on(r)&&(r.__t=void 0),k&&(e.__svelte_meta=null,$i())}}function Yt(e=""){return document.createTextNode(e)}function Tr(e){return Wn.call(e)}function Ur(e){return Xn.call(e)}function c(e,t){return Tr(e)}function ct(e,t=!1){{var r=Tr(e);return r instanceof Comment&&r.data===""?Ur(r):r}}function u(e,t=1,r=!1){let s=e;for(;t--;)s=Ur(s);return s}function Pi(e){e.textContent=""}function Zn(){return!1}function Jn(e){var t=A,r=C;Re(null),ut(null);try{return e()}finally{Re(t),ut(r)}}function Oi(e){C===null&&(A===null&&Ca(e),Na()),Wt&&Ia(e)}function Ri(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Dt(e,t,r){var s=C;if(k)for(;s!==null&&(s.f&ns)!==0;)s=s.parent;s!==null&&(s.f&ze)!==0&&(e|=ze);var a={ctx:_e,deps:null,nodes:null,f:e|Te|Qe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(k&&(a.component_function=Lr),r)try{Ir(a),a.f|=Ks}catch(v){throw Ie(a),v}else t!==null&&Ot(a);var n=a;if(r&&n.deps===null&&n.teardown===null&&n.nodes===null&&n.first===n.last&&(n.f&Mr)===0&&(n=n.first,(e&Rt)!==0&&(e&ur)!==0&&n!==null&&(n.f|=ur)),n!==null&&(n.parent=s,s!==null&&Ri(n,s),A!==null&&(A.f&he)!==0&&(e&dr)===0)){var l=A;(l.effects??(l.effects=[])).push(n)}return a}function en(){return A!==null&&!vt}function Ii(e){const t=Dt(_s,null,!1);return ne(t,ge),t.teardown=e,t}function Qn(e){Oi("$effect"),k&&vr(e,"name",{value:"$effect"});var t=C.f,r=!A&&(t&It)!==0&&(t&Ks)===0;if(r){var s=_e;(s.e??(s.e=[])).push(e)}else return ea(e)}function ea(e){return Dt(ss|Ma,e,!1)}function Ni(e){At.ensure();const t=Dt(dr|Mr,e,!0);return(r={})=>new Promise(s=>{r.outro?lr(t,()=>{Ie(t),s(void 0)}):(Ie(t),s(void 0))})}function Ci(e){return Dt(ss,e,!1)}function Fi(e){return Dt(hs|Mr,e,!0)}function ta(e,t=0){return Dt(_s|t,e,!0)}function J(e,t=[],r=[],s=[]){bi(s,t,r,a=>{Dt(_s,()=>e(...a.map(i)),!0)})}function ms(e,t=0){var r=Dt(Rt|t,e,!0);return k&&(r.dev_stack=Or),r}function Ze(e){return Dt(It|Mr,e,!0)}function ra(e){var t=e.teardown;if(t!==null){const r=Wt,s=A;_n(!0),Re(null);try{t.call(null)}finally{_n(r),Re(s)}}}function sa(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const a=r.ac;a!==null&&Jn(()=>{a.abort(hr)});var s=r.next;(r.f&dr)!==0?r.parent=null:Ie(r,t),r=s}}function Di(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&It)===0&&Ie(t),t=r}}function Ie(e,t=!0){var r=!1;(t||(e.f&Tn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Li(e.nodes.start,e.nodes.end),r=!0),sa(e,t&&!r),os(e,0),ne(e,Pt);var s=e.nodes&&e.nodes.t;if(s!==null)for(const n of s)n.stop();ra(e);var a=e.parent;a!==null&&a.first!==null&&na(e),k&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Li(e,t){for(;e!==null;){var r=e===t?null:Ur(e);e.remove(),e=r}}function na(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function lr(e,t,r=!0){var s=[];aa(e,s,!0);var a=()=>{r&&Ie(e),t&&t()},n=s.length;if(n>0){var l=()=>--n||a();for(var v of s)v.out(l)}else a()}function aa(e,t,r){if((e.f&ze)===0){e.f^=ze;var s=e.nodes&&e.nodes.t;if(s!==null)for(const v of s)(v.is_global||r)&&t.push(v);for(var a=e.first;a!==null;){var n=a.next,l=(a.f&ur)!==0||(a.f&It)!==0&&(e.f&Rt)!==0;aa(a,t,l?r:!1),a=n}}}function tn(e){ia(e,!0)}function ia(e,t){if((e.f&ze)!==0){e.f^=ze,(e.f&ge)===0&&(ne(e,Te),Ot(e));for(var r=e.first;r!==null;){var s=r.next,a=(r.f&ur)!==0||(r.f&It)!==0;ia(r,a?t:!1),r=s}var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||t)&&l.in()}}function la(e,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var a=r===s?null:Ur(r);t.append(r),r=a}}let or=!1;function ls(e){or=e}let Wt=!1;function _n(e){Wt=e}let A=null,vt=!1;function Re(e){A=e}let C=null;function ut(e){C=e}let Se=null;function oa(e){A!==null&&(Se===null?Se=[e]:Se.push(e))}let xe=null,Be=0,Ke=null;function Bi(e){Ke=e}let ca=1,Rr=0,cr=Rr;function hn(e){cr=e}function va(){return++ca}function zr(e){var t=e.f;if((t&Te)!==0)return!0;if(t&he&&(e.f&=~Kt),(t&Nt)!==0){for(var r=e.deps,s=r.length,a=0;a<s;a++){var n=r[a];if(zr(n)&&Vn(n),n.wv>e.wv)return!0}(t&Qe)!==0&&fe===null&&ne(e,ge)}return!1}function ua(e,t,r=!0){var s=e.reactions;if(s!==null&&!(Se!=null&&Se.includes(e)))for(var a=0;a<s.length;a++){var n=s[a];(n.f&he)!==0?ua(n,t,!1):t===n&&(r?ne(n,Te):(n.f&ge)!==0&&ne(n,Nt),Ot(n))}}function zs(e){var b;var t=xe,r=Be,s=Ke,a=A,n=Se,l=_e,v=vt,o=cr,w=e.f;xe=null,Be=0,Ke=null,A=(w&(It|dr))===0?e:null,Se=null,xr(e.ctx),vt=!1,cr=++Rr,e.ac!==null&&(Jn(()=>{e.ac.abort(hr)}),e.ac=null);try{e.f|=Is;var h=e.fn,_=h(),f=e.deps;if(xe!==null){var m;if(os(e,Be),f!==null&&Be>0)for(f.length=Be+xe.length,m=0;m<xe.length;m++)f[Be+m]=xe[m];else e.deps=f=xe;if(en()&&(e.f&Qe)!==0)for(m=Be;m<f.length;m++)((b=f[m]).reactions??(b.reactions=[])).push(e)}else f!==null&&Be<f.length&&(os(e,Be),f.length=Be);if(Nn()&&Ke!==null&&!vt&&f!==null&&(e.f&(he|Nt|Te))===0)for(m=0;m<Ke.length;m++)ua(Ke[m],e);return a!==null&&a!==e&&(Rr++,Ke!==null&&(s===null?s=Ke:s.push(...Ke))),(e.f&Gt)!==0&&(e.f^=Gt),_}catch(y){return Cn(y)}finally{e.f^=Is,xe=t,Be=r,Ke=s,A=a,Se=n,xr(l),vt=v,cr=o}}function Ui(e,t){let r=t.reactions;if(r!==null){var s=ka.call(r,e);if(s!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[s]=r[a],r.pop())}}if(r===null&&(t.f&he)!==0&&(xe===null||!xe.includes(t))){var n=t;(n.f&Qe)!==0&&(n.f^=Qe,n.f&=~Kt),Ws(n),Us(n),os(n,0)}}function os(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)Ui(e,r[s])}function Ir(e){var t=e.f;if((t&Pt)===0){ne(e,ge);var r=C,s=or;if(C=e,or=!0,k){var a=Lr;cn(e.component_function);var n=Or;as(e.dev_stack??Or)}try{(t&(Rt|Sn))!==0?Di(e):sa(e),ra(e);var l=zs(e);e.teardown=typeof l=="function"?l:null,e.wv=ca;var v;k&&ii&&(e.f&Te)!==0&&e.deps}finally{or=s,C=r,k&&(cn(a),as(n))}}}function i(e){var t=e.f,r=(t&he)!==0;if(A!==null&&!vt){var s=C!==null&&(C.f&Pt)!==0;if(!s&&!(Se!=null&&Se.includes(e))){var a=A.deps;if((A.f&Is)!==0)e.rv<Rr&&(e.rv=Rr,xe===null&&a!==null&&a[Be]===e?Be++:xe===null?xe=[e]:xe.includes(e)||xe.push(e));else{(A.deps??(A.deps=[])).push(e);var n=e.reactions;n===null?e.reactions=[A]:n.includes(A)||n.push(A)}}}if(k&&yi.delete(e),Wt&&Vt.has(e))return Vt.get(e);if(r){var l=e;if(Wt){var v=l.v;return((l.f&ge)===0&&l.reactions!==null||da(l))&&(v=Zs(l)),Vt.set(l,v),v}var o=(l.f&Qe)===0&&!vt&&A!==null&&(or||(A.f&Qe)!==0),w=l.deps===null;zr(l)&&(o&&(l.f|=Qe),Vn(l)),o&&!w&&fa(l)}if(fe!=null&&fe.has(e))return fe.get(e);if((e.f&Gt)!==0)throw e.v;return e.v}function fa(e){if(e.deps!==null){e.f|=Qe;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&he)!==0&&(t.f&Qe)===0&&fa(t)}}function da(e){if(e.v===ue)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Vt.has(t)||(t.f&he)!==0&&da(t))return!0;return!1}function ws(e){var t=vt;try{return vt=!0,e()}finally{vt=t}}const zi=["touchstart","touchmove"];function Hi(e){return zi.includes(e)}const _a=new Set,Hs=new Set;function rn(e){for(var t=0;t<e.length;t++)_a.add(e[t]);for(var r of Hs)r(e)}let pn=null;function Zr(e){var p;var t=this,r=t.ownerDocument,s=e.type,a=((p=e.composedPath)==null?void 0:p.call(e))||[],n=a[0]||e.target;pn=e;var l=0,v=pn===e&&e.__root;if(v){var o=a.indexOf(v);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var w=a.indexOf(t);if(w===-1)return;o<=w&&(l=o)}if(n=a[l]||e.target,n!==t){vr(e,"currentTarget",{configurable:!0,get(){return n||r}});var h=A,_=C;Re(null),ut(null);try{for(var f,m=[];n!==null;){var b=n.assignedSlot||n.parentNode||n.host||null;try{var y=n["__"+s];y!=null&&(!n.disabled||e.target===n)&&y.call(n,e)}catch(g){f?m.push(g):f=g}if(e.cancelBubble||b===t||b===null)break;n=b}if(f){for(let g of m)queueMicrotask(()=>{throw g});throw f}}finally{e.__root=t,delete e.currentTarget,Re(h),ut(_)}}}function ha(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function cs(e,t){var r=C;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function B(e,t){var r=(t&ei)!==0,s=(t&ti)!==0,a,n=!e.startsWith("<!>");return()=>{a===void 0&&(a=ha(n?e:"<!>"+e),r||(a=Tr(a)));var l=s||Qs?document.importNode(a,!0):a.cloneNode(!0);if(r){var v=Tr(l),o=l.lastChild;cs(v,o)}else cs(l,l);return l}}function Gi(e,t,r="svg"){var s=!e.startsWith("<!>"),a=`<${r}>${s?e:"<!>"+e}</${r}>`,n;return()=>{if(!n){var l=ha(a),v=Tr(l);n=Tr(v)}var o=n.cloneNode(!0);return cs(o,o),o}}function Vi(e,t){return Gi(e,t,"svg")}function Bt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Yt();return e.append(t,r),cs(t,r),e}function R(e,t){e!==null&&e.before(t)}function q(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Yi(e,t){return Ki(e,t)}const _r=new Map;function Ki(e,{target:t,anchor:r,props:s={},events:a,context:n,intro:l=!0}){Ai();var v=new Set,o=_=>{for(var f=0;f<_.length;f++){var m=_[f];if(!v.has(m)){v.add(m);var b=Hi(m);t.addEventListener(m,Zr,{passive:b});var y=_r.get(m);y===void 0?(document.addEventListener(m,Zr,{passive:b}),_r.set(m,1)):_r.set(m,y+1)}}};o(ds(_a)),Hs.add(o);var w=void 0,h=Ni(()=>{var _=r??t.appendChild(Yt());return pi(_,{pending:()=>{}},f=>{if(n){Ct({});var m=_e;m.c=n}a&&(s.$$events=a),w=e(f,s)||{},n&&Ft()}),()=>{var b;for(var f of v){t.removeEventListener(f,Zr);var m=_r.get(f);--m===0?(document.removeEventListener(f,Zr),_r.delete(f)):_r.set(f,m)}Hs.delete(o),_!==r&&((b=_.parentNode)==null||b.removeChild(_))}});return Wi.set(w,h),w}let Wi=new WeakMap;var ot,gt,Ue,nr,Fr,Dr,fs;class pa{constructor(t,r=!0){it(this,"anchor");N(this,ot,new Map);N(this,gt,new Map);N(this,Ue,new Map);N(this,nr,new Set);N(this,Fr,!0);N(this,Dr,()=>{var t=L;if(d(this,ot).has(t)){var r=d(this,ot).get(t),s=d(this,gt).get(r);if(s)tn(s),d(this,nr).delete(r);else{var a=d(this,Ue).get(r);a&&(d(this,gt).set(r,a.effect),d(this,Ue).delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[n,l]of d(this,ot)){if(d(this,ot).delete(n),n===t)break;const v=d(this,Ue).get(l);v&&(Ie(v.effect),d(this,Ue).delete(l))}for(const[n,l]of d(this,gt)){if(n===r||d(this,nr).has(n))continue;const v=()=>{if(Array.from(d(this,ot).values()).includes(n)){var w=document.createDocumentFragment();la(l,w),w.append(Yt()),d(this,Ue).set(n,{effect:l,fragment:w})}else Ie(l);d(this,nr).delete(n),d(this,gt).delete(n)};d(this,Fr)||!s?(d(this,nr).add(n),lr(l,v,!1)):v()}}});N(this,fs,t=>{d(this,ot).delete(t);const r=Array.from(d(this,ot).values());for(const[s,a]of d(this,Ue))r.includes(s)||(Ie(a.effect),d(this,Ue).delete(s))});this.anchor=t,O(this,Fr,r)}ensure(t,r){var s=L,a=Zn();if(r&&!d(this,gt).has(t)&&!d(this,Ue).has(t))if(a){var n=document.createDocumentFragment(),l=Yt();n.append(l),d(this,Ue).set(t,{effect:Ze(()=>r(l)),fragment:n})}else d(this,gt).set(t,Ze(()=>r(this.anchor)));if(d(this,ot).set(s,t),a){for(const[v,o]of d(this,gt))v===t?s.skipped_effects.delete(o):s.skipped_effects.add(o);for(const[v,o]of d(this,Ue))v===t?s.skipped_effects.delete(o.effect):s.skipped_effects.add(o.effect);s.oncommit(d(this,Dr)),s.ondiscard(d(this,fs))}else d(this,Dr).call(this)}}ot=new WeakMap,gt=new WeakMap,Ue=new WeakMap,nr=new WeakMap,Fr=new WeakMap,Dr=new WeakMap,fs=new WeakMap;function de(e,t,r=!1){var s=new pa(e),a=r?ur:0;function n(l,v){s.ensure(l,v)}ms(()=>{var l=!1;t((v,o=!0)=>{l=!0,n(o,v)}),l||n(!1,null)},a)}function Xi(e,t){return t}function Zi(e,t,r){for(var s=[],a=t.length,n,l=t.length,v=0;v<a;v++){let _=t[v];lr(_,()=>{if(n){if(n.pending.delete(_),n.done.add(_),n.pending.size===0){var f=e.outrogroups;Gs(ds(n.done)),f.delete(n),f.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var o=s.length===0&&r!==null;if(o){var w=r,h=w.parentNode;Pi(h),h.append(w),e.items.clear()}Gs(t,!o)}else n={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(n)}function Gs(e,t=!0){for(var r=0;r<e.length;r++)Ie(e[r],t)}var mn;function Nr(e,t,r,s,a,n=null){var l=e,v=new Map,o=(t&$n)!==0;if(o){var w=e;l=w.appendChild(Yt())}var h=null,_=Gn(()=>{var g=r();return xn(g)?g:g==null?[]:ds(g)}),f,m=!0;function b(){p.fallback=h,Ji(p,f,l,t,s),h!==null&&(f.length===0?(h.f&$t)===0?tn(h):(h.f^=$t,Ar(h,null,l)):lr(h,()=>{h=null}))}var y=ms(()=>{f=i(_);for(var g=f.length,E=new Set,j=L,M=Zn(),P=0;P<g;P+=1){var $=f[P],I=s($,P),S=m?null:v.get(I);S?(S.v&&Sr(S.v,$),S.i&&Sr(S.i,P),M&&j.skipped_effects.delete(S.e)):(S=Qi(v,m?l:mn??(mn=Yt()),$,I,P,a,t,r),m||(S.e.f|=$t),v.set(I,S)),E.add(I)}if(g===0&&n&&!h&&(m?h=Ze(()=>n(l)):(h=Ze(()=>n(mn??(mn=Yt()))),h.f|=$t)),!m)if(M){for(const[D,U]of v)E.has(D)||j.skipped_effects.add(U.e);j.oncommit(b),j.ondiscard(()=>{})}else b();i(_)}),p={effect:y,items:v,outrogroups:null,fallback:h};m=!1}function Ji(e,t,r,s,a){var U,X,Z,ee,Ne,Ce,He,pe,me;var n=(s&Ka)!==0,l=t.length,v=e.items,o=e.effect.first,w,h=null,_,f=[],m=[],b,y,p,g;if(n)for(g=0;g<l;g+=1)b=t[g],y=a(b,g),p=v.get(y).e,(p.f&$t)===0&&((X=(U=p.nodes)==null?void 0:U.a)==null||X.measure(),(_??(_=new Set)).add(p));for(g=0;g<l;g+=1){if(b=t[g],y=a(b,g),p=v.get(y).e,e.outrogroups!==null)for(const Y of e.outrogroups)Y.pending.delete(p),Y.done.delete(p);if((p.f&$t)!==0)if(p.f^=$t,p===o)Ar(p,null,r);else{var E=h?h.next:o;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Lt(e,h,p),Lt(e,p,E),Ar(p,E,r),h=p,f=[],m=[],o=h.next;continue}if((p.f&ze)!==0&&(tn(p),n&&((ee=(Z=p.nodes)==null?void 0:Z.a)==null||ee.unfix(),(_??(_=new Set)).delete(p))),p!==o){if(w!==void 0&&w.has(p)){if(f.length<m.length){var j=m[0],M;h=j.prev;var P=f[0],$=f[f.length-1];for(M=0;M<f.length;M+=1)Ar(f[M],j,r);for(M=0;M<m.length;M+=1)w.delete(m[M]);Lt(e,P.prev,$.next),Lt(e,h,P),Lt(e,$,j),o=j,h=$,g-=1,f=[],m=[]}else w.delete(p),Ar(p,o,r),Lt(e,p.prev,p.next),Lt(e,p,h===null?e.effect.first:h.next),Lt(e,h,p),h=p;continue}for(f=[],m=[];o!==null&&o!==p;)(w??(w=new Set)).add(o),m.push(o),o=o.next;if(o===null)continue}(p.f&$t)===0&&f.push(p),h=p,o=p.next}if(e.outrogroups!==null){for(const Y of e.outrogroups)Y.pending.size===0&&(Gs(ds(Y.done)),(Ne=e.outrogroups)==null||Ne.delete(Y));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||w!==void 0){var I=[];if(w!==void 0)for(p of w)(p.f&ze)===0&&I.push(p);for(;o!==null;)(o.f&ze)===0&&o!==e.fallback&&I.push(o),o=o.next;var S=I.length;if(S>0){var D=(s&$n)!==0&&l===0?r:null;if(n){for(g=0;g<S;g+=1)(He=(Ce=I[g].nodes)==null?void 0:Ce.a)==null||He.measure();for(g=0;g<S;g+=1)(me=(pe=I[g].nodes)==null?void 0:pe.a)==null||me.fix()}Zi(e,I,D)}}n&&Br(()=>{var Y,be;if(_!==void 0)for(p of _)(be=(Y=p.nodes)==null?void 0:Y.a)==null||be.apply()})}function Qi(e,t,r,s,a,n,l,v){var o=(l&Va)!==0?(l&Wa)===0?ji(r,!1,!1):fr(r):null,w=(l&Ya)!==0?fr(a):null;return k&&o&&(o.trace=()=>{v()[(w==null?void 0:w.v)??a]}),{v:o,i:w,e:Ze(()=>(n(t,o??r,w??a,v),()=>{e.delete(s)}))}}function Ar(e,t,r){if(e.nodes)for(var s=e.nodes.start,a=e.nodes.end,n=t&&(t.f&$t)===0?t.nodes.start:r;s!==null;){var l=Ur(s);if(n.before(s),s===a)return;s=l}}function Lt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function el(e,t,...r){var s=new pa(e);ms(()=>{const a=t()??null;k&&a==null&&Da(),s.ensure(a,a&&(n=>a(n,...r)))},ur)}const wn=[...` 	
\r\fÂ \v\uFEFF`];function tl(e,t,r){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),r){for(var a in r)if(r[a])s=s?s+" "+a:a;else if(s.length)for(var n=a.length,l=0;(l=s.indexOf(a,l))>=0;){var v=l+n;(l===0||wn.includes(s[l-1]))&&(v===s.length||wn.includes(s[v]))?s=(l===0?"":s.substring(0,l))+s.substring(v+1):l=v}}return s===""?null:s}function rl(e,t){return e==null?null:String(e)}function je(e,t,r,s,a,n){var l=e.__className;if(l!==r||l===void 0){var v=tl(r,s,n);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(n&&a!==n)for(var o in n){var w=!!n[o];(a==null||w!==!!a[o])&&e.classList.toggle(o,w)}return n}function Je(e,t,r,s){var a=e.__style;if(a!==t){var n=rl(t);n==null?e.removeAttribute("style"):e.style.cssText=n,e.__style=t}return s}const sl=Symbol("is custom element"),nl=Symbol("is html");function Ht(e,t,r,s){var a=al(e);a[t]!==(a[t]=r)&&(t==="loading"&&(e[Aa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&il(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function al(e){return e.__attributes??(e.__attributes={[sl]:e.nodeName.includes("-"),[nl]:e.namespaceURI===si})}var gn=new Map;function il(e){var t=e.getAttribute("is")||e.nodeName,r=gn.get(t);if(r)return r;gn.set(t,r=[]);for(var s,a=e,n=Element.prototype;n!==a;){s=xa(a);for(var l in s)s[l].set&&r.push(l);a=En(a)}return r}function bn(e,t){return e===t||(e==null?void 0:e[ir])===t}function ll(e={},t,r,s){return Ci(()=>{var a,n;return ta(()=>{a=n,n=[],ws(()=>{e!==r(...n)&&(t(e,...n),a&&bn(r(...a),e)&&t(null,...a))})}),()=>{Br(()=>{n&&bn(r(...n),e)&&t(null,...n)})}}),e}let Jr=!1;function ol(e){var t=Jr;try{return Jr=!1,[e(),Jr]}finally{Jr=t}}function Ee(e,t,r,s){var E;var a=(r&Ja)!==0,n=(r&Qa)!==0,l=s,v=!0,o=()=>(v&&(v=!1,l=n?ws(s):s),l),w;if(a){var h=ir in e||$a in e;w=((E=ar(e,t))==null?void 0:E.set)??(h&&t in e?j=>e[t]=j:void 0)}var _,f=!1;a?[_,f]=ol(()=>e[t]):_=e[t],_===void 0&&s!==void 0&&(_=o(),w&&(La(t),w(_)));var m;if(m=()=>{var j=e[t];return j===void 0?o():(v=!0,j)},(r&Za)===0)return m;if(w){var b=e.$$legacy;return(function(j,M){return arguments.length>0?((!M||b||f)&&w(M?m():j),j):m()})}var y=!1,p=((r&Xa)!==0?ps:Gn)(()=>(y=!1,m()));k&&(p.label=t),a&&i(p);var g=C;return(function(j,M){if(arguments.length>0){const P=M?i(p):a?bt(j):j;return F(p,P),y=!0,l!==void 0&&(l=P),j}return Wt&&y||(g.f&Pt)!==0?p.v:i(p)})}if(k){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Ba(t)},set:s=>{r=s}})}};var Jl=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function sn(e){_e===null&&Pa("onMount"),Qn(()=>{const t=ws(e);if(typeof t=="function")return t})}const cl="5";var kn;typeof window<"u"&&((kn=window.__svelte??(window.__svelte={})).v??(kn.v=new Set)).add(cl);const nn="/autoctx/api/v1";async function vl(e="24h"){const t=await fetch(`${nn}/overview?window=${e}`);if(!t.ok)throw new Error("Failed to fetch overview");return t.json()}async function ul({limit:e=50,offset:t=0,window:r="24h",status:s,model:a}={}){const n=new URLSearchParams({limit:e,offset:t,window:r});s&&n.set("status",s),a&&n.set("model",a);const l=await fetch(`${nn}/requests?${n}`);if(!l.ok)throw new Error("Failed to fetch requests");return l.json()}async function fl(e){const t=await fetch(`${nn}/requests/${e}`);if(!t.ok)throw new Error("Failed to fetch request detail");return t.json()}async function dl(){const e=await fetch("/healthz/upstream");return e.ok?e.json():{healthy:!1,last_check:new Date().toISOString()}}function H(e){return e==null?"-":e.toLocaleString()}function Oe(e){return e==null||e===0?"-":e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(2)}s`:`${(e/6e4).toFixed(1)}m`}function mr(e){return e==null||e===0?"-":e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:`${(e/1048576).toFixed(2)} MB`}function _l(e){if(!e)return"-";const t=new Date(e);return isNaN(t)?"-":`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`}function hl(e,t){return e==="success"?"status-success":e==="in_flight"?"status-inflight":t&&t.includes("timeout")?"status-timeout":"status-error"}var pl=B('<div class="summary-card svelte-edq7h2"><div class="summary-card-header svelte-edq7h2"><div><div class="summary-label svelte-edq7h2"> </div> <div class="summary-value svelte-edq7h2"> </div> <div class="summary-subtext svelte-edq7h2"> </div></div></div> <div class="sparkline-container svelte-edq7h2"><!></div></div>');function Qr(e,t){var r=pl(),s=c(r),a=c(s),n=c(a),l=c(n),v=u(n,2),o=c(v),w=u(v,2),h=c(w),_=u(s,2),f=c(_);el(f,()=>t.children??Sa),J(()=>{q(l,t.label),q(o,t.value),q(h,t.subtext)}),R(e,r)}var ml=B('<div class="loading svelte-hr9qsq">Loading requests...</div>'),wl=B('<div class="empty-state svelte-hr9qsq">No requests yet</div>'),gl=B('<tr class="svelte-hr9qsq"><td class="svelte-hr9qsq"> </td><td class="svelte-hr9qsq"> </td><td class="col-timing svelte-hr9qsq"> </td><td class="col-timing svelte-hr9qsq"> </td><td class="col-timing svelte-hr9qsq"> </td><td class="col-tokens svelte-hr9qsq"> </td><td class="col-tokens svelte-hr9qsq"> </td><td class="col-tokens svelte-hr9qsq"> </td><td class="col-tokens svelte-hr9qsq"> </td><td class="svelte-hr9qsq"> </td><td class="svelte-hr9qsq"><span> </span></td></tr>'),bl=B('<table class="svelte-hr9qsq"><thead class="svelte-hr9qsq"><tr class="svelte-hr9qsq"><th class="svelte-hr9qsq">Time</th><th class="svelte-hr9qsq">Model</th><th class="col-timing svelte-hr9qsq">Duration</th><th class="col-timing svelte-hr9qsq">TTFB</th><th class="col-timing svelte-hr9qsq">Bucket</th><th class="col-tokens svelte-hr9qsq">Est. Tokens</th><th class="col-tokens svelte-hr9qsq">Output</th><th class="col-tokens svelte-hr9qsq">Bucket</th><th class="col-tokens svelte-hr9qsq">Duration</th><th class="svelte-hr9qsq">Retries</th><th class="svelte-hr9qsq">Status</th></tr></thead><tbody class="svelte-hr9qsq"></tbody></table>'),ql=B("<div><!></div>");function yl(e,t){Ct(t,!0);var r=ql();let s;var a=c(r);{var n=v=>{var o=ml();R(v,o)},l=v=>{var o=Bt(),w=ct(o);{var h=f=>{var m=wl();R(f,m)},_=f=>{var m=bl(),b=u(c(m));Nr(b,21,()=>t.requests,Xi,(y,p)=>{var g=gl();g.__click=()=>t.onselect(i(p));var E=c(g),j=c(E),M=u(E),P=c(M),$=u(M),I=c($),S=u($),D=c(S),U=u(S),X=c(U),Z=u(U),ee=c(Z),Ne=u(Z),Ce=c(Ne),He=u(Ne),pe=c(He),me=u(He),Y=c(me),be=u(me),qt=c(be),Me=u(be),T=c(Me),G=c(T);J((Q,ae,te,qe,Fe,$e,ie,le,re)=>{q(j,Q),q(P,i(p).model||"-"),q(I,ae),q(D,te),q(X,qe),q(ee,Fe),q(Ce,$e),q(pe,ie),q(Y,le),q(qt,i(p).retry_count||0),je(T,1,`status-badge ${re??""}`,"svelte-hr9qsq"),q(G,i(p).reason||i(p).status)},[()=>_l(i(p).ts),()=>Oe(i(p).duration_ms),()=>Oe(i(p).ttfb_ms||0),()=>H(i(p).ctx_bucket||0),()=>H(i(p).ctx_est||0),()=>H(i(p).completion_tokens||0),()=>H(i(p).ctx_bucket||0),()=>Oe(i(p).duration_ms),()=>hl(i(p).status,i(p).reason)]),R(y,g)}),R(f,m)};de(w,f=>{t.requests.length===0?f(h):f(_,!1)},!0)}R(v,o)};de(a,v=>{t.loading?v(n):v(l,!1)})}J(()=>s=je(r,1,"table-container svelte-hr9qsq",null,s,{"view-tokens":t.view==="tokens"})),R(e,r),Ft()}rn(["click"]);var kl=B('<span class="segment-label svelte-1ia9oh0"> </span>'),xl=B('<div class="timeline-segment svelte-1ia9oh0"><!></div>'),El=B('<div class="timeline-bar svelte-1ia9oh0"></div>');function jl(e,t){Ct(t,!0);let r=Ee(t,"segments",19,()=>[]),s=Ee(t,"totalMs",3,1);var a=El();Nr(a,20,r,n=>n,(n,l)=>{const v=x(()=>l.endMs-l.startMs),o=x(()=>i(v)/s()*100),w=x(()=>Math.max(i(v)/s()*100,.1)),h=x(()=>l.startMs/s()*100),_=x(()=>l.accent||"var(--accent-blue)");var f=xl(),m=c(f);{var b=y=>{var p=kl(),g=c(p);J(E=>q(g,E),[()=>i(v)>=1e3?`${(i(v)/1e3).toFixed(2)}s`:`${i(v)}ms`]),R(y,p)};de(m,y=>{i(o)>8&&y(b)})}J(y=>{Je(f,`width: ${i(w)??""}%; left: ${i(h)??""}%; --segment-accent: ${i(_)??""}; background-color: ${i(_)??""};`),Ht(f,"title",`${l.label??""}: ${y??""}s`)},[()=>((l.endMs-l.startMs)/1e3).toFixed(2)]),R(n,f)}),R(e,a),Ft()}var Sl=B('<div class="marker svelte-rh7had" role="button" tabindex="0"><div class="marker-bubble svelte-rh7had"><div class="bubble-label-small svelte-rh7had"> </div> <div class="bubble-value svelte-rh7had"> </div></div> <div class="marker-line svelte-rh7had"></div> <div class="marker-pointer svelte-rh7had"></div></div>'),Tl=B('<div class="marker-layer svelte-rh7had"></div>');function Ml(e,t){Ct(t,!0);let r=Ee(t,"markers",19,()=>[]),s=Ee(t,"totalMs",3,1);bt({});function a(o){const w=o.atMs/s()*100;return Math.max(5,Math.min(95,w))}function n(o){const w=o.atMs/s()*100;return w<10?"left":w>90?"right":"center"}function l(o){return o>=1e3?`${(o/1e3).toFixed(2)}s`:`${o}ms`}var v=Tl();Nr(v,22,r,o=>o,(o,w)=>{const h=x(()=>a(w)),_=x(()=>n(w));var f=Sl(),m=c(f),b=c(m),y=c(b),p=u(b,2),g=c(p);J((E,j,M)=>{Je(f,`--marker-position: ${i(h)??""}%; --marker-accent: ${(w.accent||"var(--accent-blue)")??""}; --bubble-align: ${i(_)??""}`),Ht(f,"aria-label",`${w.label??""}: ${E??""}`),Ht(f,"title",`${w.label??""}: ${j??""}`),Ht(m,"data-align",i(_)),q(y,w.label),q(g,M)},[()=>l(w.atMs),()=>l(w.atMs),()=>l(w.atMs)]),R(o,f)}),R(e,v),Ft()}var $l=B("<div> </div>"),Al=B("<div><!></div>"),Pl=B('<div class="ruler-tick custom svelte-11dqnrs"><div class="ruler-label custom-label svelte-11dqnrs"> </div></div>'),Ol=B('<div class="ruler svelte-11dqnrs"><!> <!></div>');function Rl(e,t){Ct(t,!0);let r=Ee(t,"totalMs",3,1),s=Ee(t,"customMarkers",19,()=>[]),a=W(null),n=W(bt(new Set));function l(g){if(g<=0)return{majorStep:100,minorStep:20};const j=g/8;if(j<=0)return{majorStep:100,minorStep:20};const M=Math.pow(10,Math.floor(Math.log10(j))),P=j/M;let $;P<=1?$=1:P<=2?$=2:P<=2.5?$=2.5:P<=5?$=5:$=10;const I=$*M,S=I/5;return{majorStep:I,minorStep:S}}function v(g){return g>=1e3?`${(g/1e3).toFixed(2)}s`:`${g}ms`}const o=x(()=>l(r())),w=x(()=>i(o).majorStep),h=x(()=>i(o).minorStep),_=x(()=>{if(r()<=0||i(h)<=0)return[];const g=[];for(let E=0;E<=r()+i(h)/2;E+=i(h)){const j=Math.abs(E%i(w))<i(h)/2;g.push({ms:Math.min(E,r()),isMajor:j})}return g}),f=x(()=>i(_).map((g,E)=>g.isMajor?E:-1).filter(g=>g>=0));function m(){if(!i(a))return;const g=Array.from(i(a).querySelectorAll(".ruler-label"));if(g.length===0){F(n,new Set,!0);return}const E=new Set;let j=-1/0;const M=6;g.forEach((P,$)=>{const I=i(f)[$];if(I===void 0)return;const S=P.getBoundingClientRect(),D=S.left,U=S.right;D-j>=M&&(E.add(I),j=U)}),F(n,E,!0)}sn(()=>{m()}),Qn(()=>{i(a)&&i(_).length>0&&setTimeout(()=>{m()},0)});var b=Ol(),y=c(b);Nr(y,18,()=>i(_),g=>g,(g,E,j)=>{const M=x(()=>E.ms/r()*100),P=x(()=>Math.max(i(h)/3,5)),$=x(()=>s().some(X=>Math.abs(X-E.ms)<i(P)));var I=Al();let S;var D=c(I);{var U=X=>{var Z=$l();let ee;var Ne=c(Z);J(Ce=>{ee=je(Z,1,"ruler-label svelte-11dqnrs",null,ee,{"custom-label":i($)}),q(Ne,Ce)},[()=>v(E.ms)]),R(X,Z)};de(D,X=>{(E.isMajor&&i(n).has(i(j))||i($))&&X(U)})}J(()=>{S=je(I,1,"ruler-tick svelte-11dqnrs",null,S,{major:E.isMajor,custom:i($)}),Je(I,`left: ${i(M)??""}%`)}),R(g,I)});var p=u(y,2);Nr(p,16,s,g=>g,(g,E)=>{const j=x(()=>E/r()*100),M=x(()=>Math.max(i(h)/3,5)),P=x(()=>i(_).some(D=>Math.abs(D.ms-E)<i(M)));var $=Bt(),I=ct($);{var S=D=>{var U=Pl(),X=c(U),Z=c(X);J(ee=>{Je(U,`left: ${i(j)??""}%`),q(Z,ee)},[()=>v(E)]),R(D,U)};de(I,D=>{!i(P)&&E>=0&&E<=r()&&D(S)})}R(g,$)}),ll(b,g=>F(a,g),()=>i(a)),R(e,b),Ft()}var Il=B('<div class="estimate-marker svelte-9awjw0"></div>'),Nl=B('<div class="delta-badge svelte-9awjw0"> </div>'),Cl=B('<div class="token-marble svelte-9awjw0"><div class="marble-header svelte-9awjw0"><h3 class="marble-title svelte-9awjw0">TOKENS</h3> <div class="throughput-badge svelte-9awjw0"> </div></div> <div class="track svelte-9awjw0"><div class="track-header svelte-9awjw0"><span class="track-title svelte-9awjw0">CONTEXT BUCKET</span></div> <div class="meter-track track-blue svelte-9awjw0"><div class="meter-fill svelte-9awjw0"><div class="utilization-overlay svelte-9awjw0"></div></div></div> <div class="track-text svelte-9awjw0"><span class="number svelte-9awjw0"> </span> selected of <span class="number svelte-9awjw0"> </span> â¢ Utilization <span class="number svelte-9awjw0"> </span></div></div> <div class="track svelte-9awjw0"><div class="track-header svelte-9awjw0"><span class="track-title svelte-9awjw0">PROMPT TOKENS</span></div> <div class="meter-track track-purple svelte-9awjw0"><div class="meter-fill svelte-9awjw0"></div> <!> <!></div> <div class="track-text svelte-9awjw0"><span class="number svelte-9awjw0"> </span> actual â¢ <span class="number svelte-9awjw0"> </span> estimated â¢ Î <span class="number svelte-9awjw0"> </span> tok</div></div> <div class="track svelte-9awjw0"><div class="track-header svelte-9awjw0"><span class="track-title svelte-9awjw0">OUTPUT BUDGET</span></div> <div class="meter-track track-green svelte-9awjw0"><div class="meter-fill svelte-9awjw0"></div></div> <div class="track-text svelte-9awjw0"><span class="number svelte-9awjw0"> </span> used of <span class="number svelte-9awjw0"> </span> â¢ <span class="number svelte-9awjw0"> </span></div></div></div>');function Fl(e,t){Ct(t,!0);let r=Ee(t,"estimatedPrompt",3,0),s=Ee(t,"actualPrompt",3,0),a=Ee(t,"outputBudget",3,0),n=Ee(t,"actualOutput",3,0),l=Ee(t,"contextSelected",3,0),v=Ee(t,"contextBucket",3,0),o=Ee(t,"contextUtilizationPct",3,0),w=Ee(t,"tokensPerSec",3,0);const h=x(()=>v()>0?Math.min(l()/v(),1):0),_=x(()=>o()/100),f=x(()=>Math.max(r(),s(),1)),m=x(()=>s()/i(f)),b=x(()=>r()/i(f)),y=x(()=>a()>0?Math.min(n()/a(),1):0),p=x(()=>s()-r());function g(K){return K==null?"-":K.toLocaleString()}var E=Cl(),j=c(E),M=u(c(j),2),P=c(M),$=u(j,2),I=u(c($),2),S=c(I),D=c(S),U=u(I,2),X=c(U),Z=c(X),ee=u(X,2),Ne=c(ee),Ce=u(ee,2),He=c(Ce),pe=u($,2),me=u(c(pe),2),Y=c(me),be=u(Y,2);{var qt=K=>{var we=Il();J(()=>Je(we,`left: ${i(b)*100}%`)),R(K,we)};de(be,K=>{i(b)>i(m)&&K(qt)})}var Me=u(be,2);{var T=K=>{var we=Nl(),rt=c(we);J(st=>q(rt,`${i(p)>0?"+":""}${st??""} tok`),[()=>g(i(p))]),R(K,we)};de(Me,K=>{i(p)!==0&&K(T)})}var G=u(me,2),Q=c(G),ae=c(Q),te=u(Q,2),qe=c(te),Fe=u(te,2),$e=c(Fe),ie=u(pe,2),le=u(c(ie),2),re=c(le),Ge=u(le,2),De=c(Ge),Le=c(De),tt=u(De,2),yt=c(tt),Ve=u(tt,2),kt=c(Ve);J((K,we,rt,st,nt,Ye,xt,Et,jt,St,Xt,Zt,V)=>{q(P,`${K??""} tok/s`),Je(S,`width: ${we??""}%; --fill-pct: ${i(h)*100}%`),Je(D,`width: ${i(_)*100}%`),q(Z,rt),q(Ne,st),q(He,`${nt??""}%`),Je(Y,`width: ${Ye??""}%; --fill-pct: ${i(m)*100}%`),q(ae,xt),q(qe,Et),q($e,`${i(p)>0?"+":""}${jt??""}`),Je(re,`width: ${St??""}%; --fill-pct: ${i(y)*100}%`),q(Le,Xt),q(yt,Zt),q(kt,`${V??""}%`)},[()=>w().toFixed(1),()=>Math.max(i(h)*100,l()>0?.5:0),()=>g(l()),()=>g(v()),()=>o().toFixed(1),()=>Math.max(i(m)*100,s()>0?.5:0),()=>g(s()),()=>g(r()),()=>g(i(p)),()=>Math.max(i(y)*100,n()>0?.5:0),()=>g(n()),()=>g(a()),()=>(i(y)*100).toFixed(1)]),R(e,E),Ft()}var Dl=B('<div class="loading svelte-18wkcjq">Loading...</div>'),Ll=B('<div class="flow-diagram svelte-18wkcjq"><div class="flow-box svelte-18wkcjq"><div class="flow-box-title svelte-18wkcjq">Request</div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Messages</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">System</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">User</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Tools</span><span class="flow-metric-value svelte-18wkcjq"> </span></div></div> <div class="flow-arrow svelte-18wkcjq">â</div> <div class="flow-box svelte-18wkcjq"><div class="flow-box-title svelte-18wkcjq">AutoCTX</div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Estimated</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Selected</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Bucket</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Output Budget</span><span class="flow-metric-value svelte-18wkcjq"> </span></div></div> <div class="flow-arrow svelte-18wkcjq">â</div> <div class="flow-box svelte-18wkcjq"><div class="flow-box-title svelte-18wkcjq">Ollama</div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Prompt Tokens</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Completion</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Eval Time</span><span class="flow-metric-value svelte-18wkcjq"> </span></div></div> <div class="flow-arrow svelte-18wkcjq">â</div> <div class="flow-box svelte-18wkcjq"><div class="flow-box-title svelte-18wkcjq">Response</div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Status</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Duration</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">TTFB</span><span class="flow-metric-value svelte-18wkcjq"> </span></div> <div class="flow-metric svelte-18wkcjq"><span class="flow-metric-label svelte-18wkcjq">Retries</span><span class="flow-metric-value svelte-18wkcjq"> </span></div></div></div>'),Bl=B('<div class="timing-cards svelte-18wkcjq"><div class="timing-card svelte-18wkcjq"><div class="timing-card-label svelte-18wkcjq">TTFB</div> <div class="timing-card-value svelte-18wkcjq" style="color: var(--accent-blue)"> </div></div> <div class="timing-card svelte-18wkcjq"><div class="timing-card-label svelte-18wkcjq">Model Load</div> <div class="timing-card-value svelte-18wkcjq" style="color: var(--accent-orange)"> </div></div> <div class="timing-card svelte-18wkcjq"><div class="timing-card-label svelte-18wkcjq">Prompt Eval</div> <div class="timing-card-value svelte-18wkcjq" style="color: var(--accent-purple)"> </div></div> <div class="timing-card svelte-18wkcjq"><div class="timing-card-label svelte-18wkcjq">Generation</div> <div class="timing-card-value svelte-18wkcjq" style="color: var(--accent-green)"> </div></div></div> <div class="timeline-section svelte-18wkcjq"><div class="timeline-header svelte-18wkcjq"><span>Timeline</span> <span> </span></div> <div class="timeline-container svelte-18wkcjq"><!> <!></div> <!></div>',1),Ul=B('<div class="detail-grid svelte-18wkcjq"><div class="detail-item svelte-18wkcjq"><div class="detail-label svelte-18wkcjq">Client Request</div><div class="detail-value svelte-18wkcjq"> </div></div> <div class="detail-item svelte-18wkcjq"><div class="detail-label svelte-18wkcjq">Upstream Request</div><div class="detail-value svelte-18wkcjq"> </div></div> <div class="detail-item svelte-18wkcjq"><div class="detail-label svelte-18wkcjq">Upstream Response</div><div class="detail-value svelte-18wkcjq"> </div></div> <div class="detail-item svelte-18wkcjq"><div class="detail-label svelte-18wkcjq">Total Bytes</div><div class="detail-value svelte-18wkcjq"> </div></div></div>'),zl=B('<div class="modal svelte-18wkcjq" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-content svelte-18wkcjq"><div class="modal-header svelte-18wkcjq"><h2 class="svelte-18wkcjq">Request Details</h2> <button class="modal-close svelte-18wkcjq">&times;</button></div> <div class="modal-tabs svelte-18wkcjq"><button>Overview</button> <button>Timings</button> <button>Tokens</button> <button>Bytes</button></div> <div class="modal-body svelte-18wkcjq"><!></div></div></div>');function Hl(e,t){Ct(t,!0);let r=W(null),s=W("overview"),a=W(!0);sn(async()=>{try{F(r,await fl(t.requestId),!0)}catch(S){console.error("Failed to load request detail:",S)}finally{F(a,!1)}});function n(S){S.target===S.currentTarget&&t.onclose()}function l(S){S.key==="Escape"&&t.onclose()}var v=zl();v.__click=n,v.__keydown=l;var o=c(v),w=c(o),h=u(c(w),2);h.__click=function(...S){var D;(D=t.onclose)==null||D.apply(this,S)};var _=u(w,2),f=c(_);let m;f.__click=()=>F(s,"overview");var b=u(f,2);let y;b.__click=()=>F(s,"timings");var p=u(b,2);let g;p.__click=()=>F(s,"tokens");var E=u(p,2);let j;E.__click=()=>F(s,"bytes");var M=u(_,2),P=c(M);{var $=S=>{var D=Dl();R(S,D)},I=S=>{var D=Bt(),U=ct(D);{var X=Z=>{var ee=Bt(),Ne=ct(ee);{var Ce=pe=>{var me=Ll(),Y=c(me),be=u(c(Y),2),qt=u(c(be)),Me=c(qt),T=u(be,2),G=u(c(T)),Q=c(G),ae=u(T,2),te=u(c(ae)),qe=c(te),Fe=u(ae,2),$e=u(c(Fe)),ie=c($e),le=u(Y,4),re=u(c(le),2),Ge=u(c(re)),De=c(Ge),Le=u(re,2),tt=u(c(Le)),yt=c(tt),Ve=u(Le,2),kt=u(c(Ve)),K=c(kt),we=u(Ve,2),rt=u(c(we)),st=c(rt),nt=u(le,4),Ye=u(c(nt),2),xt=u(c(Ye)),Et=c(xt),jt=u(Ye,2),St=u(c(jt)),Xt=c(St),Zt=u(jt,2),V=u(c(Zt)),z=c(V),ft=u(nt,4),oe=u(c(ft),2),$r=u(c(oe)),gs=c($r),Hr=u(oe,2),bs=u(c(Hr)),qs=c(bs),Gr=u(Hr,2),Vr=u(c(Gr)),ys=c(Vr),ks=u(Gr,2),Yr=u(c(ks)),xs=c(Yr);J((Es,Kr,js,Ss,Ts,Ms,$s,ce,Ae,ye,at)=>{q(Me,i(r).request.messages_count),q(Q,`${Es??""} chars`),q(qe,`${Kr??""} chars`),q(ie,i(r).request.tools_count),q(De,js),q(yt,Ss),q(K,Ts),q(st,Ms),q(Et,$s),q(Xt,ce),q(z,Ae),q(gs,i(r).status),q(qs,ye),q(ys,at),q(xs,i(r).response.retry_count)},[()=>H(i(r).request.system_chars),()=>H(i(r).request.user_chars),()=>H(i(r).autoctx.ctx_est),()=>H(i(r).autoctx.ctx_selected),()=>H(i(r).autoctx.ctx_bucket),()=>H(i(r).autoctx.output_budget),()=>H(i(r).ollama.prompt_tokens),()=>H(i(r).ollama.completion_tokens),()=>Oe(i(r).ollama.upstream_eval_ms),()=>Oe(i(r).response.duration_ms),()=>Oe(i(r).response.ttfb_ms)]),R(pe,me)},He=pe=>{var me=Bt(),Y=ct(me);{var be=Me=>{const T=x(()=>i(r).response.duration_ms||1),G=x(()=>i(r).response.ttfb_ms||0),Q=x(()=>i(r).ollama.upstream_load_ms||0),ae=x(()=>i(r).ollama.upstream_prompt_eval_ms||0),te=x(()=>i(r).ollama.upstream_eval_ms||0),qe=x(()=>(()=>{const V=[];let z=0;if(i(Q)>0&&z<i(T)){const oe=Math.min(z+i(Q),i(T));oe>z&&(V.push({startMs:z,endMs:oe,label:"MODEL LOAD",accent:"var(--accent-orange)"}),z=oe)}if(i(ae)>0&&z<i(T)){const oe=Math.min(z+i(ae),i(T));oe>z&&(V.push({startMs:z,endMs:oe,label:"PROMPT EVAL",accent:"var(--accent-purple)"}),z=oe)}const ft=i(G)>0?i(G):z;return ft<i(T)&&V.push({startMs:ft,endMs:i(T),label:"GENERATION",accent:"var(--accent-green)"}),V})()),Fe=x(()=>(()=>{const V=[];return i(G)>0&&i(G)<=i(T)&&V.push({atMs:i(G),label:"TIME TO FIRST BYTE",accent:"var(--accent-blue)"}),V})()),$e=x(()=>(()=>{const V=[0];let z=0;return i(Q)>0&&(z+=i(Q),V.push(z)),i(ae)>0&&(z+=i(ae),V.push(z)),i(G)>0&&Math.abs(i(G)-z)>1&&V.push(i(G)),i(T)>0&&V.push(i(T)),[...new Set(V)].sort((ft,oe)=>ft-oe)})());var ie=Bl(),le=ct(ie),re=c(le),Ge=u(c(re),2),De=c(Ge),Le=u(re,2),tt=u(c(Le),2),yt=c(tt),Ve=u(Le,2),kt=u(c(Ve),2),K=c(kt),we=u(Ve,2),rt=u(c(we),2),st=c(rt),nt=u(le,2),Ye=c(nt),xt=u(c(Ye),2),Et=c(xt),jt=u(Ye,2),St=c(jt);jl(St,{get segments(){return i(qe)},get totalMs(){return i(T)}});var Xt=u(St,2);Ml(Xt,{get markers(){return i(Fe)},get totalMs(){return i(T)}});var Zt=u(jt,2);Rl(Zt,{get totalMs(){return i(T)},get customMarkers(){return i($e)}}),J((V,z,ft,oe,$r)=>{q(De,V),q(yt,z),q(K,ft),q(st,oe),q(Et,`Total: ${$r??""}`)},[()=>Oe(i(G)),()=>Oe(i(Q)),()=>Oe(i(ae)),()=>Oe(i(te)),()=>Oe(i(T))]),R(Me,ie)},qt=Me=>{var T=Bt(),G=ct(T);{var Q=te=>{const qe=x(()=>i(r).autoctx.ctx_selected>0?(i(r).ollama.prompt_tokens+i(r).ollama.completion_tokens)/i(r).autoctx.ctx_selected*100:0),Fe=x(()=>i(r).ollama.upstream_eval_ms>0?i(r).ollama.completion_tokens/i(r).ollama.upstream_eval_ms*1e3:0);{let $e=x(()=>i(r).autoctx.ctx_est||0),ie=x(()=>i(r).ollama.prompt_tokens||0),le=x(()=>i(r).autoctx.output_budget||0),re=x(()=>i(r).ollama.completion_tokens||0),Ge=x(()=>i(r).autoctx.ctx_selected||0),De=x(()=>i(r).autoctx.ctx_bucket||0);Fl(te,{get estimatedPrompt(){return i($e)},get actualPrompt(){return i(ie)},get outputBudget(){return i(le)},get actualOutput(){return i(re)},get contextSelected(){return i(Ge)},get contextBucket(){return i(De)},get contextUtilizationPct(){return i(qe)},get tokensPerSec(){return i(Fe)}})}},ae=te=>{var qe=Bt(),Fe=ct(qe);{var $e=ie=>{var le=Ul(),re=c(le),Ge=u(c(re)),De=c(Ge),Le=u(re,2),tt=u(c(Le)),yt=c(tt),Ve=u(Le,2),kt=u(c(Ve)),K=c(kt),we=u(Ve,2),rt=u(c(we)),st=c(rt);J((nt,Ye,xt,Et)=>{q(De,nt),q(yt,Ye),q(K,xt),q(st,Et)},[()=>mr(i(r).request.client_in_bytes),()=>mr(i(r).ollama.upstream_in_bytes),()=>mr(i(r).ollama.upstream_out_bytes),()=>mr(i(r).response.client_out_bytes||i(r).ollama.upstream_out_bytes||0)]),R(ie,le)};de(Fe,ie=>{i(s)==="bytes"&&ie($e)},!0)}R(te,qe)};de(G,te=>{i(s)==="tokens"?te(Q):te(ae,!1)},!0)}R(Me,T)};de(Y,Me=>{i(s)==="timings"?Me(be):Me(qt,!1)},!0)}R(pe,me)};de(Ne,pe=>{i(s)==="overview"?pe(Ce):pe(He,!1)})}R(Z,ee)};de(U,Z=>{i(r)&&Z(X)},!0)}R(S,D)};de(P,S=>{i(a)?S($):S(I,!1)})}J(()=>{m=je(f,1,"modal-tab svelte-18wkcjq",null,m,{active:i(s)==="overview"}),y=je(b,1,"modal-tab svelte-18wkcjq",null,y,{active:i(s)==="timings"}),g=je(p,1,"modal-tab svelte-18wkcjq",null,g,{active:i(s)==="tokens"}),j=je(E,1,"modal-tab svelte-18wkcjq",null,j,{active:i(s)==="bytes"})}),R(e,v),Ft()}rn(["click","keydown"]);var Gl=Vi('<svg class="sparkline svelte-pz5mwn" viewBox="0 0 100 30" preserveAspectRatio="none"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"></stop><stop offset="100%"></stop></linearGradient></defs><polygon class="sparkline-area svelte-pz5mwn"></polygon><polyline class="sparkline-line svelte-pz5mwn"></polyline></svg>');function es(e,t){Ct(t,!0);let r=Ee(t,"color",3,"--accent-blue"),s=x(()=>{if(!t.data||t.data.length===0)return"";const o=t.data.map(b=>b.value),w=Math.max(...o,1),h=Math.min(...o,0),_=w-h||1,f=100,m=30;return o.map((b,y)=>{const p=y/(o.length-1)*f,g=m-(b-h)/_*m;return`${p},${g}`}).join(" ")}),a=x(()=>i(s)?`${i(s)} 100,30 0,30`:"");var n=Bt(),l=ct(n);{var v=o=>{var w=Gl(),h=c(w),_=c(h),f=c(_),m=u(f),b=u(h),y=u(b);J(()=>{Ht(_,"id",`sparklineGradient-${r()??""}`),Je(f,`stop-color: var(${r()??""}); stop-opacity: 0.4`),Je(m,`stop-color: var(${r()??""}); stop-opacity: 0`),Ht(b,"points",i(a)),Ht(b,"fill",`url(#sparklineGradient-${r()??""})`),Ht(y,"points",i(s)),Je(y,`stroke: var(${r()??""})`)}),R(o,w)};de(l,o=>{t.data&&t.data.length>0&&o(v)})}R(e,n),Ft()}var Vl=B('<div class="pagination svelte-1n46o8q"><button class="pagination-btn svelte-1n46o8q">Previous</button> <span class="page-info svelte-1n46o8q"> </span> <button class="pagination-btn svelte-1n46o8q">Next</button></div>'),Yl=B('<div class="summary-grid svelte-1n46o8q"><!> <!> <!> <!></div> <div class="card svelte-1n46o8q"><div class="card-header svelte-1n46o8q"><div><div class="card-title svelte-1n46o8q">Recent Requests</div> <div class="card-subtitle svelte-1n46o8q">Click a row for details</div></div> <div class="view-toggle svelte-1n46o8q"><button>Timing</button> <button>Tokens</button></div></div> <!> <!></div> <div class="metrics-card svelte-1n46o8q"><div class="metrics-card-title svelte-1n46o8q">Prometheus Metrics</div> <div class="metrics-card-subtitle svelte-1n46o8q">Aggregated statistics and performance indicators</div> <div class="metrics-grid svelte-1n46o8q"><div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Total Requests</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q">All time</div></div> <div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Success Rate</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q"> </div></div> <div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Avg Duration</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q">Request time</div></div> <div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Total Bytes</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q">Forwarded</div></div> <div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Total Tokens</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q">Estimated</div></div> <div class="metric-item svelte-1n46o8q"><div class="metric-label svelte-1n46o8q">Timeouts</div> <div class="metric-value svelte-1n46o8q"> </div> <div class="metric-subtitle svelte-1n46o8q">All types</div></div></div> <div class="metrics-status-row svelte-1n46o8q"><div class="status-item svelte-1n46o8q"><div class="status-dot success svelte-1n46o8q"></div> <span>Success</span> <strong> </strong></div> <div class="status-item svelte-1n46o8q"><div class="status-dot error svelte-1n46o8q"></div> <span>Errors</span> <strong> </strong></div> <div class="status-item svelte-1n46o8q"><div class="status-dot timeout svelte-1n46o8q"></div> <span>Timeouts</span> <strong> </strong></div> <div class="status-item svelte-1n46o8q"><div class="status-dot loop svelte-1n46o8q"></div> <span>Loops Detected</span> <strong> </strong></div></div></div>',1),Kl=B('<div class="container svelte-1n46o8q"><header class="svelte-1n46o8q"><h1 class="svelte-1n46o8q">Ollama <span class="svelte-1n46o8q">AutoCTX</span></h1> <div class="header-right svelte-1n46o8q"><div class="window-selector svelte-1n46o8q"><button>5m</button> <button>1H</button> <button>24H</button> <button>7D</button></div> <div class="health-badge svelte-1n46o8q"><div></div> <span> </span></div></div></header> <!></div> <!>',1);function Wl(e,t){Ct(t,!0);let r=W("24h"),s=W(1),a=W("timing");const n=20;let l=W(null),v=W(bt([])),o=W(bt({healthy:!0})),w=W(null),h=W(!0),_=x(()=>Math.ceil(i(v).length/n)),f=x(()=>i(v).slice((i(s)-1)*n,i(s)*n));async function m(){try{F(l,await vl(i(r)),!0)}catch(T){console.error("Overview error:",T)}}async function b(){try{const T=await ul({limit:200,window:i(r)});F(v,T.requests||[],!0),F(h,!1)}catch(T){console.error("Requests error:",T),F(h,!1)}}async function y(){try{F(o,await dl(),!0)}catch{F(o,{healthy:!1},!0)}}function p(T){F(r,T,!0),F(s,1),m(),b()}sn(()=>{m(),b(),y();const T=setInterval(m,5e3),G=setInterval(b,3e3),Q=setInterval(y,1e4);return()=>{clearInterval(T),clearInterval(G),clearInterval(Q)}});var g=Kl(),E=ct(g),j=c(E),M=u(c(j),2),P=c(M),$=c(P);let I;$.__click=()=>p("5m");var S=u($,2);let D;S.__click=()=>p("1h");var U=u(S,2);let X;U.__click=()=>p("24h");var Z=u(U,2);let ee;Z.__click=()=>p("7d");var Ne=u(P,2),Ce=c(Ne);let He;var pe=u(Ce,2),me=c(pe),Y=u(j,2);{var be=T=>{var G=Yl(),Q=ct(G),ae=c(Q);{let ce=x(()=>H(i(l).summary.total_requests)),Ae=x(()=>i(l).summary.in_flight||0);Qr(ae,{label:"Total Requests",get value(){return i(ce)},get subtext(){return`${i(Ae)??""} in-flight`},children:(ye,at)=>{{let dt=x(()=>{var ke;return(ke=i(l).series)==null?void 0:ke.req_count});es(ye,{get data(){return i(dt)},color:"--accent-blue"})}}})}var te=u(ae,2);{let ce=x(()=>(i(l).summary.success_rate*100).toFixed(1)),Ae=x(()=>H(Math.round(i(l).summary.total_requests*i(l).summary.success_rate))),ye=x(()=>H(i(l).summary.total_requests));Qr(te,{label:"Success Rate",get value(){return`${i(ce)??""}%`},get subtext(){return`${i(Ae)??""} / ${i(ye)??""}`},children:(at,dt)=>{{let ke=x(()=>{var Wr;return(Wr=i(l).series)==null?void 0:Wr.ctx_utilization});es(at,{get data(){return i(ke)},color:"--accent-green"})}}})}var qe=u(te,2);{let ce=x(()=>Oe(i(l).summary.avg_duration_ms)),Ae=x(()=>Oe(i(l).summary.p95_duration_ms));Qr(qe,{label:"Avg Duration",get value(){return i(ce)},get subtext(){return`P95: ${i(Ae)??""}`},children:(ye,at)=>{{let dt=x(()=>{var ke;return(ke=i(l).series)==null?void 0:ke.duration_p95});es(ye,{get data(){return i(dt)},color:"--accent-purple"})}}})}var Fe=u(qe,2);{let ce=x(()=>H(i(l).summary.total_tokens)),Ae=x(()=>mr(i(l).summary.total_bytes));Qr(Fe,{label:"Total Tokens",get value(){return i(ce)},get subtext(){return`${i(Ae)??""} transferred`},children:(ye,at)=>{{let dt=x(()=>{var ke;return(ke=i(l).series)==null?void 0:ke.gen_tok_per_s});es(ye,{get data(){return i(dt)},color:"--accent-green"})}}})}var $e=u(Q,2),ie=c($e),le=u(c(ie),2),re=c(le);let Ge;re.__click=()=>F(a,"timing");var De=u(re,2);let Le;De.__click=()=>F(a,"tokens");var tt=u(ie,2);yl(tt,{get requests(){return i(f)},get view(){return i(a)},get loading(){return i(h)},onselect:ce=>F(w,ce,!0)});var yt=u(tt,2);{var Ve=ce=>{var Ae=Vl(),ye=c(Ae);ye.__click=()=>fn(s,-1);var at=u(ye,2),dt=c(at),ke=u(at,2);ke.__click=()=>fn(s),J(()=>{ye.disabled=i(s)<=1,q(dt,`Page ${i(s)??""} of ${i(_)??""}`),ke.disabled=i(s)>=i(_)}),R(ce,Ae)};de(yt,ce=>{i(_)>1&&ce(Ve)})}var kt=u($e,2),K=u(c(kt),4),we=c(K),rt=u(c(we),2),st=c(rt),nt=u(we,2),Ye=u(c(nt),2),xt=c(Ye),Et=u(Ye,2),jt=c(Et),St=u(nt,2),Xt=u(c(St),2),Zt=c(Xt),V=u(St,2),z=u(c(V),2),ft=c(z),oe=u(V,2),$r=u(c(oe),2),gs=c($r),Hr=u(oe,2),bs=u(c(Hr),2),qs=c(bs),Gr=u(K,2),Vr=c(Gr),ys=u(c(Vr),4),ks=c(ys),Yr=u(Vr,2),xs=u(c(Yr),4),Es=c(xs),Kr=u(Yr,2),js=u(c(Kr),4),Ss=c(js),Ts=u(Kr,2),Ms=u(c(Ts),4),$s=c(Ms);J((ce,Ae,ye,at,dt,ke,Wr,ma,wa,ga,ba)=>{Ge=je(re,1,"view-toggle-btn svelte-1n46o8q",null,Ge,{active:i(a)==="timing"}),Le=je(De,1,"view-toggle-btn svelte-1n46o8q",null,Le,{active:i(a)==="tokens"}),q(st,ce),q(xt,`${Ae??""}%`),q(jt,`${ye??""} / ${i(l).summary.total_requests??""}`),q(Zt,at),q(ft,dt),q(gs,ke),q(qs,Wr),q(ks,ma),q(Es,wa),q(Ss,ga),q($s,ba)},[()=>H(i(l).summary.total_requests),()=>(i(l).summary.success_rate*100).toFixed(1),()=>Math.round(i(l).summary.total_requests*i(l).summary.success_rate),()=>Oe(i(l).summary.avg_duration_ms),()=>mr(i(l).summary.total_bytes),()=>H(i(l).summary.total_tokens),()=>H(i(l).summary.timeouts),()=>H(Math.round(i(l).summary.total_requests*i(l).summary.success_rate)),()=>H(i(l).summary.total_requests-Math.round(i(l).summary.total_requests*i(l).summary.success_rate)-i(l).summary.timeouts),()=>H(i(l).summary.timeouts),()=>H(i(l).summary.loops||0)]),R(T,G)};de(Y,T=>{i(l)&&T(be)})}var qt=u(E,2);{var Me=T=>{Hl(T,{get requestId(){return i(w).id},onclose:()=>F(w,null)})};de(qt,T=>{i(w)&&T(Me)})}J(()=>{I=je($,1,"window-btn svelte-1n46o8q",null,I,{active:i(r)==="5m"}),D=je(S,1,"window-btn svelte-1n46o8q",null,D,{active:i(r)==="1h"}),X=je(U,1,"window-btn svelte-1n46o8q",null,X,{active:i(r)==="24h"}),ee=je(Z,1,"window-btn svelte-1n46o8q",null,ee,{active:i(r)==="7d"}),He=je(Ce,1,"health-dot svelte-1n46o8q",null,He,{unhealthy:!i(o).healthy}),q(me,i(o).healthy?"Healthy":"Unhealthy")}),R(e,g),Ft()}rn(["click"]);typeof window<"u"&&Yi(Wl,{target:document.getElementById("app")});
